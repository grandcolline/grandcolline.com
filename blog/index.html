<!DOCTYPE html>
<!--

  明日から本気出す.

-->
<html lang="ja-jp">
  <head>
    <title>Blog | grandcolline</title>
    <meta name="title" content="grandcolline">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#FFFEFC">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#15202B">
    <link rel="manifest" href="../manifest.json">

    <!-- Icon Setting -->
    <link rel="shortcut icon" href="../img/icons/grandcolline_maskable_192.png">
    <link rel="apple-touch-icon" href="../img/icons/grandcolline_128.png">

    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="gc">

    <!-- Font Awesome -->
    <link rel ="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.css">

    <!-- CSS -->
    <link rel="stylesheet" href="/style.css">
  </head>

  <body>
    <header id="header">
      <a title="back" href="./">
        <i class="fas fa-arrow-left"></i>
      </a>
    </header>
    <div id="content">Loading...</div>
    <footer></footer>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      // クエリからIDを取得
      var searchParams = new URLSearchParams(window.location.search);
      var id = searchParams.get('id');

      //取得するMarkdownのURLを作成
      var url
      if (id) {
        url = "./md/" + id + ".md"
      } else {
        url = "./md/_index.md"
        document.getElementById('header').innerHTML = "";
      }

      // Markdownを取得して表示
      var data = "404 Not Found 😿";
      var request = new XMLHttpRequest();
      request.open('GET', url, true);
      request.onload = function () {
        if(this.status == 200){
          data = this.response;
        }
        document.getElementById('content').innerHTML = marked.parse(data);
      }
      request.send();
    </script>
  </body>
</html>

